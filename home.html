<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home â€¢ 3ATTL33ILLIONS</title>

  <!-- Virgo font (local) -->
  <style>
    @font-face{
      font-family:'Virgo';
      src:
        url('assets/fonts/Virgo.woff2') format('woff2'),
        url('assets/fonts/Virgo.ttf') format('truetype');
      font-display:swap;
    }
  </style>

  <style>
    :root{
      --bg:#000;
      --panel:#0e0e0f;
      --ink:#e9edf1;
      --ink-2:#cfd6dd;
      --ink-3:#9aa3ad;
      --stroke:rgba(255,255,255,.08);
      --ring:0 0 0 3px rgba(255,255,255,.12);
      --gold-1:#F5D76E; --gold-2:#F0B90B; --gold-3:#FFD15C;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family:'Virgo', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      letter-spacing:.2px;
    }

    /* ===== Page layout ===== */
    .home-shell{
      max-width:1200px; margin:0 auto; padding:16px 12px 28px;
      display:grid; grid-template-columns: 1fr 320px; gap:16px;
    }
    /* Main content placeholder (left) */
    .home-main{
      min-height:60vh;
      border:1px solid var(--stroke); border-radius:16px;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      padding:18px;
    }
    .home-main h1{margin:0 0 6px 0; font-size:18px}
    .home-main p{color:var(--ink-3); margin:0}

    /* ===== Right Sidebar (sticky) ===== */
    .home-sidebar{
      position:sticky; top:16px;
      display:flex; flex-direction:column; gap:12px;
    }

    .card{
      border:1px solid var(--stroke); border-radius:16px; background:rgba(255,255,255,.04);
      backdrop-filter:blur(6px); box-shadow:0 10px 30px rgba(0,0,0,.35);
      padding:14px;
    }

    /* Actions block */
    .actions{
      display:flex; flex-direction:column; gap:10px;
    }
    .action-btn{
      display:flex; align-items:center; gap:12px; width:100%;
      border:1px solid var(--stroke); border-radius:12px;
      background:rgba(255,255,255,.06); color:#fff; font-weight:800; font-size:13px;
      padding:12px; cursor:pointer; text-align:left;
      transition:transform .2s, background .2s, box-shadow .2s;
    }
    .action-btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.1)}
    .action-btn svg{width:18px;height:18px;stroke:#fff}

    /* Rank special style */
    .action-btn.rank{
      background:linear-gradient(90deg,#3a3a3a,var(--gold-2),#3a3a3a);
      background-size:200% 100%;
      color:#101; border-color:rgba(240,185,11,.55);
      box-shadow:0 0 16px 2px rgba(240,185,11,.25);
      animation:shimmer 5s linear infinite;
    }
    .badge{
      margin-left:auto;
      padding:2px 8px; border-radius:999px; border:1px solid rgba(240,185,11,.55);
      background:linear-gradient(90deg,var(--gold-1),var(--gold-2),var(--gold-3));
      color:#101; font-weight:900; font-size:11px;
    }
    @keyframes shimmer{0%{background-position:0% 50%}100%{background-position:200% 50%}}

    .divider{height:1px; background:var(--stroke); margin:10px 0}

    /* Stats tiles */
    .stats{
      display:grid; grid-template-columns:repeat(3, 1fr); gap:8px;
    }
    .stat{
      border:1px solid var(--stroke); border-radius:12px;
      background:var(--panel); padding:10px; text-align:center;
    }
    .stat .num{font-size:18px; font-weight:900}
    .stat .lbl{font-size:10px; color:var(--ink-2); letter-spacing:.3px}

    /* Promo block (optional) */
    .promo{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .promo .text{font-size:12px; color:var(--ink-2)}
    .promo .go{
      border:1px solid var(--stroke); border-radius:10px; padding:8px 10px; font-weight:800; cursor:pointer; background:#fff; color:#111;
      transition:transform .2s, filter .2s;
    }
    .promo .go:hover{transform:translateY(-1px); filter:brightness(.95)}

    /* Responsive */
    @media (max-width: 980px){
      .home-shell{grid-template-columns: 1fr}
      .home-sidebar{position:static}
    }
  </style>
</head>
<body>
  <div class="home-shell" data-app-fragment>
    <!-- LEFT: Your main feed or hero content -->
    <section class="home-main">
      <h1>Welcome back</h1>
      <p>Jump into a 3ATTLE, browse 3ILLIONS, or check your rank.</p>
      <!-- You can place home feed/cards here -->
    </section>

    <!-- RIGHT: Sticky Sidebar -->
    <aside class="home-sidebar">
      <!-- Actions -->
      <div class="card">
        <div class="actions">
          <!-- Rank with badge -->
          <button class="action-btn rank" onclick="go('#/rank')" aria-label="Open Rank">
            <!-- trophy/medal icon -->
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M8 21h8M12 17v4M7 4h10v3a4 4 0 0 1-4 4h-2a4 4 0 0 1-4-4V4z"/>
              <path d="M17 7h2a2 2 0 0 0 2-2V4h-4M7 7H5a2 2 0 0 1-2-2V4h4"/>
            </svg>
            <span>Rank</span>
            <span class="badge" id="rankBadge">#27</span>
          </button>

          <!-- Wallet -->
          <button class="action-btn" onclick="go('#/wallet')" aria-label="Open Wallet">
            <!-- wallet icon -->
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M4 7h14a3 3 0 0 1 3 3v4a3 3 0 0 1-3 3H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"/>
              <path d="M16 11h4v2h-4z"/>
              <path d="M4 7V5a2 2 0 0 1 2-2h10"/>
            </svg>
            <span>Wallet</span>
          </button>

          <!-- Edit -->
          <button class="action-btn" onclick="go('#/edit-profile')" aria-label="Edit Profile">
            <!-- pencil -->
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M12 20h9"/>
              <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/>
            </svg>
            <span>Edit</span>
          </button>

          <!-- Settings -->
          <button class="action-btn" onclick="go('#/settings')" aria-label="Settings">
            <!-- cog -->
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 1 1 3.21 19l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09c.36 0 .71-.08 1.02-.23.62-.27 1-.86 1-1.51V7a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 5.04 3.21l.06.06c.5.5 1.19.65 1.82.33H7a1.65 1.65 0 0 0 1-1.51V2a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51c.63.32 1.32.17 1.82-.33l.06-.06A2 2 0 1 1 20.79 5l-.06.06c-.5.5-.65 1.19-.33 1.82V7"/>
            </svg>
            <span>Settings</span>
          </button>
        </div>

        <div class="divider"></div>

        <!-- Stats -->
        <div class="stats">
          <div class="stat">
            <div class="num" id="statBattles">27</div>
            <div class="lbl">3ATTLES</div>
          </div>
          <div class="stat">
            <div class="num" id="statFollowers">12.8k</div>
            <div class="lbl">Followers</div>
          </div>
          <div class="stat">
            <div class="num" id="statFollowing">341</div>
            <div class="lbl">Following</div>
          </div>
        </div>
      </div>

      <!-- Optional CTA block -->
      <div class="card">
        <div class="promo">
          <div class="text">Ready to jump back in?</div>
          <button class="go" onclick="go('#/battle')">Enter 3ATTLES</button>
        </div>
      </div>
    </aside>
  </div>

  <script>
    // SPA helper
    function go(hash){
      try{
        if (window.parent && window.parent !== window){ window.parent.location.hash = hash; }
        else { location.hash = hash; }
      }catch(e){ location.hash = hash; }
    }

    // Demo values (replace with live data)
    const demo = {
      rank: 27,
      battles: 27,
      followers: 12840,
      following: 341
    };
    function fmt(n){ return n.toLocaleString(); }

    // Hydrate
    (function hydrate(){
      document.getElementById('rankBadge').textContent = '#'+demo.rank;
      document.getElementById('statBattles').textContent = fmt(demo.battles);
      // Followers in compact format
      const f = demo.followers >= 1000 ? (demo.followers/1000).toFixed(1)+'k' : fmt(demo.followers);
      document.getElementById('statFollowers').textContent = f;
      document.getElementById('statFollowing').textContent = fmt(demo.following);
    })();
  </script>
</body>
</html>
