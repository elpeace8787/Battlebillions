<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BattleBillions ‚Äì Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;font-family:'Orbitron',sans-serif;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);color:#fff;overflow:hidden}

    :root{
      --cyan:#0ff;
      --glass:rgba(0,255,255,0.12);
      --glass-strong:rgba(0,255,255,0.18);
      --dim-overlay:rgba(0,0,0,0.55);
      --light-overlay:rgba(0,255,200,0.10);
    }

    /* Shared chrome */
    .top-bar,.bottom-bar{
      position:fixed;left:0;width:100%;display:flex;justify-content:space-between;align-items:center;
      padding:6px 12px;background:rgba(0,255,255,0.08);backdrop-filter:blur(10px);z-index:50
    }
    .top-bar{top:0;border-bottom:1px solid rgba(0,255,255,0.25);height:40px}
    .bottom-bar{bottom:0;border-top:1px solid rgba(0,255,255,0.2)}
    .nav-icon{font-size:14px;color:var(--cyan);cursor:pointer;text-shadow:0 0 5px var(--cyan);padding:6px 10px;border-radius:10px;transition:.25s}
    .nav-icon:hover{background:rgba(0,255,255,0.12);transform:translateY(-1px)}

    .side-controls{position:fixed;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:14px;z-index:40}
    .side-controls.left{left:10px}
    .side-controls.right{right:10px}
    .side-button{width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;
      background:rgba(0,255,255,0.10);border:1px solid rgba(0,255,255,0.25);color:var(--cyan);cursor:pointer;transition:.25s}
    .side-button:hover{transform:scale(1.08)}

    /* Views (SPA) */
    .view{position:absolute;inset:40px 0 48px 0; /* under top/bottom bars */ padding:16px;overflow:auto;display:none}
    .view.active{display:block}

    /* Home / slogans */
    .slogan{
      max-width:980px;margin:12px auto 18px auto;display:flex;gap:8px;flex-wrap:wrap;justify-content:center
    }
    .slogan .chip{
      background:var(--glass-strong);border:1px solid rgba(0,255,255,0.28);padding:8px 12px;border-radius:12px;
      font-size:12px;letter-spacing:.5px;color:var(--cyan)
    }
    .panel{
      max-width:1100px;margin:0 auto;background:rgba(0,0,0,0.35);border:1px solid rgba(0,255,255,0.2);
      border-radius:16px;padding:16px 14px;box-shadow:0 0 18px rgba(0,255,255,0.15)
    }
    .panel h2{font-size:18px;color:#e8feff;margin-bottom:10px;letter-spacing:.6px}
    .cta-wrap{display:flex;justify-content:center;margin-top:16px}
    .cta{
      display:inline-block;padding:12px 22px;border-radius:24px;background:var(--cyan);color:#000;border:none;font-weight:700;
      letter-spacing:.5px;cursor:pointer;box-shadow:0 0 16px rgba(0,255,255,0.5);transition:.2s
    }
    .cta:hover{transform:translateY(-1px)}

    /* Dashboard / category picker */
    .grid{
      display:grid;gap:10px;
      grid-template-columns:repeat(2,minmax(0,1fr)); /* mobile-safe */
    }
    @media(min-width:720px){.grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
    @media(min-width:1040px){.grid{grid-template-columns:repeat(6,minmax(0,1fr))}}

    .pill{
      position:relative;display:flex;align-items:center;justify-content:center;text-align:center;
      min-height:56px;padding:10px 8px;border-radius:14px;border:1px solid rgba(0,255,255,0.28);
      background:rgba(0,255,255,0.06);color:#dff;cursor:pointer;transition:.22s;
      line-height:1.1;
    }
    .pill span{display:block;max-width:100%;word-break:break-word;font-size:14px}
    @media(min-width:520px){.pill span{font-size:15px}}
    .pill:hover{background:rgba(0,255,255,0.16);transform:translateY(-1px)}
    .pill.active{outline:2px solid var(--cyan);box-shadow:0 0 12px rgba(0,255,255,0.45)}

    .subgrid{display:grid;gap:10px;grid-template-columns:repeat(2,minmax(0,1fr))}
    @media(min-width:760px){.subgrid{grid-template-columns:repeat(3,minmax(0,1fr))}}
    .sub-note{margin:10px 0 4px 2px;color:#aef;font-size:12px;opacity:.9}
    .cta.secondary{display:none;margin-top:12px}
    .cta.secondary.show{display:inline-block}

    /* Arena view */
    .stream-container{position:relative;width:100%;height:100%;display:flex}
    video.video-stream{flex:1;object-fit:cover;width:50%;height:100%;background:#000;filter:brightness(.9) contrast(1.2) saturate(1.3)}
    .arena-overlay{position:absolute;inset:0;pointer-events:none}
    .arena-top{position:absolute;top:0;left:0;right:0;height:38px;padding:6px 12px;display:flex;justify-content:space-between;align-items:center;
      background:rgba(0,255,255,0.08);border-bottom:1px solid rgba(0,255,255,0.2)}
    .arena-chip{background:rgba(0,255,255,0.12);border:1px solid rgba(0,255,255,0.28);padding:6px 10px;border-radius:10px;color:var(--cyan);font-size:12px}

    .names{position:absolute;top:70px;left:0;right:0;display:flex;justify-content:space-between;padding:0 12px;gap:12px}
    .name-pill{pointer-events:auto;background:rgba(0,0,0,0.55);padding:6px 10px;border-radius:14px;border:1px solid rgba(0,255,255,0.28);color:#e8feff;font-size:13px}

    .vote-btn{position:absolute;bottom:130px;padding:9px 16px;border-radius:30px;background:rgba(0,255,255,0.2);border:none;
      color:#fff;font-size:15px;pointer-events:auto}
    .vote-left{left:12px}
    .vote-right{right:12px}

    /* Live audience + chat button inline */
    .audience-bar{position:absolute;bottom:78px;left:50%;transform:translateX(-50%);min-width:260px;max-width:min(92%,560px);
      display:flex;align-items:center;justify-content:center;gap:10px;padding:8px 12px;border-radius:14px;
      background:rgba(0,0,0,0.45);border:1px solid rgba(0,255,255,0.28)}
    .aud-text{font-size:12px;color:var(--cyan)}
    .aud-avatars{display:flex;gap:6px}
    .aud-avatars img{width:20px;height:20px;border-radius:50%}
    .chat-mini{pointer-events:auto;border:none;border-radius:999px;background:var(--cyan);color:#000;font-weight:700;padding:6px 10px;cursor:pointer}

    /* Timer + round center pill */
    .round-timer{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);padding:10px 18px;border-radius:28px;
      background:rgba(0,255,255,0.12);border:2px solid var(--cyan);color:#fff;font-weight:700;box-shadow:0 0 15px rgba(0,255,255,0.5)}
    .round-timer.animate{background:rgba(0,255,200,0.22);box-shadow:0 0 20px rgba(0,255,200,0.75)}

    /* Cinematic lighting */
    .cinema-dim::after{content:"";position:absolute;inset:0;background:var(--dim-overlay);pointer-events:none;z-index:2}
    .cinema-light::after{content:"";position:absolute;inset:0;background:var(--light-overlay);pointer-events:none;z-index:2}

    /* Post-battle overlay */
    .end-overlay{
      position:absolute;inset:0;background:rgba(0,0,0,0.72);
      display:none;align-items:center;justify-content:center;z-index:60;backdrop-filter:blur(4px)
    }
    .end-card{
      width:min(720px,92%);background:rgba(0,0,0,0.6);border:1px solid rgba(0,255,255,0.3);
      border-radius:16px;padding:18px;box-shadow:0 0 22px rgba(0,255,255,0.35)
    }
    .end-card h3{font-size:18px;margin-bottom:10px;color:#e8feff}
    .end-card .grid{margin-top:10px}
    .end-actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
    .btn{padding:10px 16px;border-radius:20px;border:1px solid rgba(0,255,255,0.3);background:rgba(0,255,255,0.12);color:#fff;cursor:pointer}
    .btn.primary{background:var(--cyan);color:#000;border:none;font-weight:700}

    /* Hidden utility */
    .hidden{display:none!important}
  </style>
</head>
<body>
  <!-- Global Nav Bars -->
  <div class="top-bar">
    <div class="nav-icon" data-nav="home">üè† Home</div>
    <div class="nav-icon" data-nav="dashboard">üéõÔ∏è Dashboard</div>
    <div class="nav-icon" data-nav="battle">üì∫ Battle</div>
    <div class="nav-icon" data-nav="leaderboard">üèÜ Leaderboard</div>
    <div class="nav-icon" data-nav="profile">üë§ Profile</div>
  </div>

  <div class="side-controls left">
    <div class="side-button" data-nav="profile">üë§</div>
    <div class="side-button" data-nav="dashboard">üîç</div>
    <div class="side-button" data-nav="home">üè†</div>
  </div>
  <div class="side-controls right">
    <div class="side-button" data-nav="leaderboard">üèÜ</div>
    <div class="side-button" data-nav="battle">üì∫</div>
    <div class="side-button" data-nav="dashboard">üéõÔ∏è</div>
  </div>

  <div class="bottom-bar">
    <div class="nav-icon" data-nav="profile">üë§</div>
    <div class="nav-icon" data-nav="dashboard">üîç</div>
    <div class="nav-icon" data-nav="leaderboard">üèÜ</div>
    <div class="nav-icon" data-nav="home">üè†</div>
    <div class="nav-icon" data-nav="battle">üì∫</div>
  </div>

  <!-- VIEWS -->
  <!-- HOME -->
  <section id="view-home" class="view active">
    <div class="slogan">
      <div class="chip">1ST ‚Äì Defeat BILLIONS.</div>
      <div class="chip">2ND ‚Äì Choose Your BATTLE.</div>
      <div class="chip">3RD ‚Äì Defeat BILLIONS.</div>
    </div>
    <div class="panel">
      <h2>Welcome to BattleBillions</h2>
      <p style="opacity:.9;font-size:13px;margin-bottom:10px">Tap Dashboard to choose your battle category and jump in.</p>
      <div class="cta-wrap"><button class="cta" data-nav="dashboard">Go to Dashboard</button></div>
    </div>
  </section>

  <!-- DASHBOARD: Category -> Subcategory -->
  <section id="view-dashboard" class="view">
    <div class="slogan">
      <div class="chip">1ST ‚Äì Defeat BILLIONS.</div>
      <div class="chip">2ND ‚Äì Choose Your BATTLE.</div>
      <div class="chip">3RD ‚Äì Defeat BILLIONS.</div>
    </div>

    <div class="panel" id="cat-panel">
      <h2>Choose Category</h2>
      <div class="grid" id="categoryGrid"><!-- Filled by JS --></div>
    </div>

    <div class="panel hidden" id="subcat-panel">
      <h2 id="subcatTitle">Choose Subcategory</h2>
      <div class="sub-note" id="subcatNote"></div>
      <div class="subgrid" id="subcatGrid"></div>
      <div class="cta-wrap">
        <button id="startBattleBtn" class="cta">BattleBillions</button>
      </div>
      <div class="cta-wrap">
        <button id="backToCategories" class="cta secondary">Back to Categories</button>
      </div>
    </div>
  </section>

  <!-- BATTLE (Arena) -->
  <section id="view-battle" class="view">
    <div class="stream-container cinema-dim" id="arena">
      <video class="video-stream" id="localVideo" autoplay muted playsinline></video>
      <video class="video-stream" id="opponentVideo" autoplay muted loop></video>

      <div class="arena-overlay">
        <div class="arena-top">
          <div class="arena-chip" id="arenaCat">Category: ‚Äî</div>
          <div class="arena-chip" id="arenaSub">Sub: ‚Äî</div>
        </div>

        <div class="names">
          <div class="name-pill" id="youName">@You</div>
          <div class="name-pill" id="oppName">@Opponent</div>
        </div>

        <button class="vote-btn vote-left">Vote</button>
        <button class="vote-btn vote-right">Vote</button>

        <div class="audience-bar">
          <span class="aud-text" id="audCount">Live Audience: üî¥ 0</span>
          <div class="aud-avatars" id="audAvatars">
            <img src="a1.jpg" alt="">
            <img src="a2.jpg" alt="">
            <img src="a3.jpg" alt="">
          </div>
          <button class="chat-mini" id="chatBtn">üí¨ Chat</button>
        </div>

        <div class="round-timer" id="roundTimer">Preparing battle‚Ä¶</div>
      </div>

      <!-- Post-battle / between battles overlay -->
      <div class="end-overlay" id="endOverlay">
        <div class="end-card">
          <h3 id="endTitle">üî• Battle Over üî•</h3>
          <p style="opacity:.9;font-size:13px">Stay in your current category or pick another to keep battling.</p>

          <div class="panel" style="margin-top:12px;background:rgba(0,255,255,0.05)">
            <h2 style="margin-bottom:8px">Choose Category</h2>
            <div class="grid" id="postCategoryGrid"><!-- Filled by JS --></div>
          </div>

          <div class="end-actions">
            <button class="btn" id="keepCategoryBtn">Keep Current Category</button>
            <button class="btn primary" id="nextOpponentBtn">Next Opponent</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Audio -->
    <audio id="roundEndSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_38ca955dae.mp3?filename=click-124467.mp3"></audio>
    <audio id="battleTrack" hidden></audio>
  </section>

  <!-- LEADERBOARD -->
  <section id="view-leaderboard" class="view">
    <div class="panel">
      <h2>Leaderboard</h2>
      <p style="opacity:.85;font-size:13px">Top battlers will appear here.</p>
    </div>
  </section>

  <!-- PROFILE -->
  <section id="view-profile" class="view">
    <div class="panel">
      <h2>Your Profile</h2>
      <p style="opacity:.85;font-size:13px">Customize your handle, avatar, and settings.</p>
    </div>
  </section>

  <!-- === PART 2 (Core JavaScript) WILL BE PASTED HERE === -->
  <!-- === PART 3 (Extended Logic) WILL BE PASTED UNDER PART 2 === -->
</body>
    </html>
